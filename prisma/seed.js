import { PrismaClient } from '@prisma/client';
const prisma = new PrismaClient();

const priorityCities = [
  "Ð’ÐµÑÑŒ Ð˜Ð·Ñ€Ð°Ð¸Ð»ÑŒ", "Ð¦ÐµÐ½Ñ‚Ñ€ ÑÑ‚Ñ€Ð°Ð½Ñ‹", "Ð®Ð³ ÑÑ‚Ñ€Ð°Ð½Ñ‹", "Ð¡ÐµÐ²ÐµÑ€ ÑÑ‚Ñ€Ð°Ð½Ñ‹"
];

const otherCities = [
  "ÐÐºÐºÐ¾", "ÐÐ·ÑƒÑ€", "ÐÑ€Ð°Ð´", "ÐÑ€Ð¸ÑÐ»ÑŒ", "ÐÑ€Ñ€Ð°Ð±Ðµ", "ÐÑ„ÑƒÐ»Ð°", "ÐÑˆÐ´Ð¾Ð´", "ÐÑˆÐºÐµÐ»Ð¾Ð½", "Ð‘Ð°ÐºÐ° ÑÐ»ÑŒ Ð“Ð°Ñ€Ð±Ð¸Ñ", "Ð‘Ð°Ñ‚ Ð¯Ð¼",
  "Ð‘ÐµÐ¹Ñ‚ Ð¨ÐµÐ°Ð½", "Ð‘ÐµÐ¹Ñ‚ Ð¨ÐµÐ¼ÐµÑˆ", "Ð‘ÐµÐ¹Ñ‚Ð°Ñ€ Ð˜Ð»Ð¸Ñ‚", "Ð‘ÐµÑÑ€ Ð¨ÐµÐ²Ð°", "Ð‘ÐµÑÑ€ Ð¯Ð°ÐºÐ¾Ð²", "Ð‘Ð½ÐµÐ¹ Ð‘Ñ€Ð°Ðº", "Ð‘Ð½ÐµÐ¹ ÐÐ¸Ñˆ",
  "Ð“Ð°Ð½ÐµÐ¹ Ð¢Ð¸ÐºÐ²Ð°", "Ð“ÐµÑ€Ñ†Ð»Ð¸Ñ", "Ð“Ð¸Ð²Ð°Ñ‚Ð°Ð¸Ð¼", "Ð“Ð¸Ð²Ð°Ñ‚ Ð¨Ð¼ÑƒÑÐ»ÑŒ", "Ð”Ð¸Ð¼Ð¾Ð½Ð°", "Ð˜ÐµÑ€ÑƒÑÐ°Ð»Ð¸Ð¼", "Ð™ÐµÑ…ÑƒÐ´ ÐœÐ¾Ð½Ð¾ÑÑÐ¾Ð½",
  "Ð™Ð¾ÐºÐ½ÐµÐ°Ð¼", "ÐšÐ°Ð»Ð°Ð½ÑÑƒÐ°", "ÐšÐ°Ñ€Ð¼Ð¸ÑÐ»ÑŒ", "ÐšÐ°Ñ„Ñ€ ÐšÐ°Ñ€Ð°", "ÐšÐ°Ñ„Ñ€ ÐšÐ°ÑÐµÐ¼", "ÐšÐ¸Ñ€ÑŒÑÑ‚ ÐÑ‚Ð°", "ÐšÐ¸Ñ€ÑŒÑÑ‚ Ð‘ÑÐ»Ð¸Ðº",
  "ÐšÐ¸Ñ€ÑŒÑÑ‚ Ð¥Ð°Ð¸Ð¼", "ÐšÐ¸Ñ€ÑŒÑÑ‚ Ð“Ð°Ñ‚", "ÐšÐ¸Ñ€ÑŒÑÑ‚ ÐœÐ°Ð»Ð°Ñ…Ð¸", "ÐšÐ¸Ñ€ÑŒÑÑ‚ ÐœÐ¾Ñ†ÐºÐ¸Ð½", "ÐšÐ¸Ñ€ÑŒÑÑ‚ ÐžÐ½Ð¾", "ÐšÐ°Ñ€Ð¼Ð¸ÐµÐ»ÑŒ", "ÐšÐ¸Ñ€ÑŒÑÑ‚ Ð¨Ð¼Ð¾Ð½Ð°",
  "ÐšÐ¸Ñ€ÑŒÑÑ‚ Ð¯Ð¼", "ÐšÑ„Ð°Ñ€ Ð¡Ð°Ð±Ð°", "ÐšÑ„Ð°Ñ€ Ð™Ð¾Ð½Ð°", "Ð›Ð¾Ð´", "ÐœÐ°Ð°Ð»Ðµ ÐÐ´ÑƒÐ¼Ð¸Ð¼", "ÐœÐ°Ð°Ð»Ð¾Ñ‚ Ð¢Ð°Ñ€ÑˆÐ¸Ñ…Ð°", "ÐœÐ°Ð³Ð°Ñ€", "ÐœÐ¾Ð´Ð¸Ð¸Ð½",
  "ÐœÐ¸Ð³Ð´Ð°Ð»ÑŒ Ñ…Ð° Ð­Ð¼ÐµÐº", "ÐœÐ¾Ð´Ð¸Ð¸Ð½ Ð˜Ð»Ð¸Ñ‚", "ÐœÐ°Ð°Ð»Ð¾Ñ‚", "ÐœÐ¾Ð´Ð¸Ð¸Ð½ ÐœÐ°ÐºÐºÐ°Ð±Ð¸Ð¼ Ð ÐµÑƒÑ‚", "ÐÐ°Ð³Ð°Ñ€Ð¸Ñ", "ÐÐ°Ð·Ð°Ñ€ÐµÑ‚", "ÐÐ¾Ñ„ Ñ…Ð° Ð“Ð°Ð»Ð¸Ð»ÑŒ",
  "ÐÐµÑ Ð¦Ð¸Ð¾Ð½Ð°", "ÐÐ°Ñ‚Ð°Ð½Ð¸Ñ", "ÐÐµÑ‚Ð¸Ð²Ð¾Ñ‚", "ÐÐ°Ð°Ñ€Ð¸Ñ", "ÐÐ°Ñ†Ñ€Ð°Ñ‚ Ð˜Ð»Ð¸Ñ‚", "ÐÐµÑˆÐµÑ€", "ÐžÑ€ ÐÐºÐ¸Ð²Ð°", "ÐžÑ€ Ð™ÐµÑ…ÑƒÐ´Ð°", "ÐžÑ„Ð°ÐºÐ¸Ð¼", "ÐŸÐµÑ‚Ð°Ñ… Ð¢Ð¸ÐºÐ²Ð°",
  "Ð Ð°Ð°Ð½Ð°Ð½Ð°", "Ð Ð°Ð¼Ð°Ñ‚ Ð“Ð°Ð½", "Ð Ð°Ð¼Ð»Ð°", "Ð Ð°Ñ…Ð°Ñ‚", "Ð ÐµÑ…Ð¾Ð²Ð¾Ñ‚", "Ð Ð¸ÑˆÐ¾Ð½ Ð»Ðµ Ð¦Ð¸Ð¾Ð½",
  "Ð Ð¾Ñˆ ÐÐ¸Ð½", "Ð¡Ð°Ñ…Ð½Ð¸Ð½", "Ð¡Ð´ÐµÑ€Ð¾Ñ‚", "Ð¢Ð°Ð¹Ð±Ðµ", "Ð¢Ð°Ð¼Ñ€Ð°", "Ð¢Ð²ÐµÑ€Ð¸Ñ", "Ð¢ÐµÐ»ÑŒ ÐÐ²Ð¸Ð²", "Ð¢Ð¸Ñ€Ð°", "Ð¢Ð¸Ñ€Ð°Ñ‚ ÐšÐ°Ñ€Ð¼ÐµÐ»ÑŒ",
  "Ð£Ð¼Ð¼-ÑÐ»ÑŒ Ð¤Ð°Ñ…Ð¼", "Ð¥Ð°Ð´ÐµÑ€Ð°", "Ð¥Ð°Ð¹Ñ„Ð°", "Ð¥ÐµÐ´ÐµÑ€Ð°", "Ð¥Ð¾Ð´ Ð¥Ð° Ð¨Ð°Ñ€Ð¾Ð½", "Ð¥Ð°Ñ€Ð¸Ñˆ", "Ð¥Ð¾Ð´ Ñ…Ð° Ð¨Ð°Ñ€Ð¾Ð½", "Ð¥Ð¾Ð»Ð¾Ð½", "Ð¦Ñ„Ð°Ñ‚", "Ð¦Ð¾Ð¼ÐµÑ‚ ÐšÐ°Ð½Ð¾Ñ‚",
  "Ð¨ÐµÑ„Ð°Ñ€Ð°Ð¼", "Ð­Ð¹Ð»Ð°Ñ‚", "Ð­Ð»ÑŒÐ°Ð´", "Ð¯Ð²Ð½Ðµ", "Ð Ð°Ð¼Ð°Ñ‚ Ð¥Ð° Ð¨Ð°Ñ€Ð¾Ð½", "ÐšÑ„Ð°Ñ€ ÐÐ²Ð¸Ð²", "ÐšÐ¸Ñ€ÑŒÑÑ‚ Ð‘ÑÐ»", "ÐšÐµÐ¹ÑÐ°Ñ€Ð¸Ñ"
];

async function main() {
  console.log("ðŸ—‘ Ð£Ð´Ð°Ð»ÑÐµÐ¼ Ð²ÑÐµ Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¸...");
  await prisma.job.deleteMany({});
  console.log("âœ… Ð’ÑÐµ Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ñ‹!");

  console.log("ðŸ—‘ Ð£Ð´Ð°Ð»ÑÐµÐ¼ Ð²ÑÐµÑ… Ñ„ÐµÐ¹ÐºÐ¾Ð²Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹...");
  await prisma.user.deleteMany({
    where: { clerkUserId: { startsWith: "user_" } }
  });
  console.log("âœ… Ð’ÑÐµ Ñ„ÐµÐ¹ÐºÐ¾Ð²Ñ‹Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ñ‹!");

  console.log("ðŸ—‘ Ð£Ð´Ð°Ð»ÑÐµÐ¼ Ð²ÑÐµ Ð³Ð¾Ñ€Ð¾Ð´Ð°...");
  await prisma.city.deleteMany({});
  console.log("âœ… Ð’ÑÐµ Ð³Ð¾Ñ€Ð¾Ð´Ð° ÑƒÐ´Ð°Ð»ÐµÐ½Ñ‹!");

  console.log("ðŸ—‘ Ð£Ð´Ð°Ð»ÑÐµÐ¼ Ð²ÑÐµÑ… ÑÐ¾Ð¸ÑÐºÐ°Ñ‚ÐµÐ»ÐµÐ¹...");
  await prisma.seeker.deleteMany({});
  console.log("âœ… Ð’ÑÐµ ÑÐ¾Ð¸ÑÐºÐ°Ñ‚ÐµÐ»Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ñ‹!");
  
  console.log("ðŸ“Œ Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¿Ñ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚Ð½Ñ‹Ðµ Ð³Ð¾Ñ€Ð¾Ð´Ð°...");
  await prisma.city.createMany({
    data: priorityCities.map(name => ({ name })),
  });

  console.log("ðŸ“Œ Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¾ÑÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð³Ð¾Ñ€Ð¾Ð´Ð°...");
  await prisma.city.createMany({
    data: otherCities.map(name => ({ name })),
  });

  console.log("âœ… Ð’ÑÐµ Ð³Ð¾Ñ€Ð¾Ð´Ð° ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹!");

  const categories = [
    'Ð¡Ñ‚Ñ€Ð¾Ð¹ÐºÐ°',
    'Ð£Ð±Ð¾Ñ€ÐºÐ°',
    'Ð”Ð¾ÑÑ‚Ð°Ð²ÐºÐ°',
    'ÐžÑ„Ð¸Ñ',
    'Ð ÐµÐ¼Ð¾Ð½Ñ‚',
    'ÐžÐ±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ',
    'ÐœÐµÐ´Ð¸Ñ†Ð¸Ð½Ð°',
    'Ð¡ÐºÐ»Ð°Ð´',
    'ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾',
    'Ð”Ñ€ÑƒÐ³Ð¾Ðµ'
  ];
  await prisma.category.deleteMany({});
  await prisma.category.createMany({
    data: categories.map(name => ({ name })),
  });

  // Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ñ‚ÐµÑÑ‚Ð¾Ð²Ñ‹Ñ… ÑÐ¾Ð¸ÑÐºÐ°Ñ‚ÐµÐ»ÐµÐ¹
  const testSeekers = [
    {
      name: "Ð˜Ð»Ð¾Ð½Ð°",
      contact: "050-123-45-67, facebook.com/ilona",
      city: "ÐÑˆÐ´Ð¾Ð´",
      description: "Ð½ÑÐ½Ð¸\n×ž×—×¤×©×ª ×œ×¢×‘×•×“ ×›×ž×˜×¤×œ×ª",
    },
    {
      name: "Ð¡Ð¾Ñ„ÑŒÑ",
      contact: "050-234-56-78",
      city: "ÐÐ°Ð³Ð°Ñ€Ð¸Ñ",
      description: "Ñ€Ð°Ð·Ð½Ð¾Ðµ ÑƒÐ±Ð¾Ñ€ÐºÐ° ÑƒÑ…Ð¾Ð´-Ð·Ð°-Ð¿Ð¾Ð¶Ð¸Ð»Ñ‹Ð¼Ð¸\nÐ˜Ñ‰Ñƒ Ð¿Ð¾Ð´Ñ€Ð°Ð±Ð¾Ñ‚ÐºÑƒ - ÑƒÐ±Ð¾Ñ€ÐºÐ°, Ð½ÑÐ½Ñ Ð¸ Ñ‚Ð°Ðº Ð´Ð°Ð»ÐµÐµ.",
    },
    {
      name: "Ð’Ð¸ÐºÑ‚Ð¾Ñ€Ð¸Ñ",
      contact: "050-345-67-89",
      city: "*Ð¦ÐµÐ½Ñ‚Ñ€",
      description: "ÑƒÑ…Ð¾Ð´-Ð·Ð°-Ð¿Ð¾Ð¶Ð¸Ð»Ñ‹Ð¼Ð¸\nÐ˜Ñ‰Ñƒ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ 24/7",
    },
    {
      name: "ÐšÐ¾Ð½ÑÑ‚Ð°Ð½Ñ‚Ð¸Ð½",
      contact: "050-456-78-90",
      city: "Ð¥Ð°Ð¹Ñ„Ð°",
      description: "Ñ‚Ñ€Ð°Ð½ÑÐ¿Ð¾Ñ€Ñ‚\nÐ˜Ñ‰Ñƒ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÐµÐ¼, Ð¿Ñ€Ð°Ð²Ð° 12 Ñ‚Ð¾Ð½Ð½",
    },
  ];

  console.log("ðŸ“Œ Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ñ‚ÐµÑÑ‚Ð¾Ð²Ñ‹Ñ… ÑÐ¾Ð¸ÑÐºÐ°Ñ‚ÐµÐ»ÐµÐ¹...");
  function generateSlug(name, description) {
    // ÐŸÑ€Ð¾ÑÑ‚Ð¾Ð¹ slug: Ð¸Ð¼Ñ + Ð¿ÐµÑ€Ð²Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ° Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ, Ð»Ð°Ñ‚Ð¸Ð½Ð¸Ñ†ÐµÐ¹, Ð² Ð½Ð¸Ð¶Ð½ÐµÐ¼ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ðµ, Ð±ÐµÐ· Ð¿Ñ€Ð¾Ð±ÐµÐ»Ð¾Ð²
    return (
      (name + '-' + description.split('\n')[0])
        .toLowerCase()
        .replace(/[^a-zÐ°-Ñ0-9]+/gi, '-')
        .replace(/^-+|-+$/g, '')
    );
  }
  for (const seeker of testSeekers) {
    await prisma.seeker.create({ data: { ...seeker, slug: generateSlug(seeker.name, seeker.description) } });
  }
  console.log("âœ… Ð¢ÐµÑÑ‚Ð¾Ð²Ñ‹Ðµ ÑÐ¾Ð¸ÑÐºÐ°Ñ‚ÐµÐ»Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹!");
}

main()
  .catch((e) => {
    console.error("âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ð¸ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð°:", e);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
